<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Logs</title>
    <script>
      function openTab(id) {
        var text = document.getElementById(id).innerHTML;
        var blob = new Blob([text], { type: 'application/json' });
        var elem = window.document.createElement('a');
        elem.href = window.URL.createObjectURL(blob);
        elem.target = '_blank';        
        document.body.appendChild(elem);
        elem.click();        
        document.body.removeChild(elem);
      }
    </script>
    <style type="text/css">
      pre {
        border: 1px solid black;
        max-height: 200px;
        overflow-y: scroll;
      }
    </style>
</head>
<body>
<code>
<h1>Complete Booking Flow</h1>
<h2>Expected flow with tickets</h2>
   <ul>    <li>Compute trip to get a booking option (as usual)</li>     <li>Press book and retrieve booking input and tickets (this is new)</li>     <li>Attempt to book sending booking options and selected tickets (only one for now, the default)</li>     <li>Once trip is updated, user will get the pay action to start payment</li>     <li>Hit payment url to retrieve payment options (only one at this stage), including the selected tickets and the corresponding price (see <a target=\docs\ href=\./#operation/payBooking\>docs</a>) </li>     <li>User the corresponding url to retrieve the payment intent (see <a target=\docs\ href=\./#operation/payBookingWithOption\>docs</a>)</li>     <li>Use the payment intent to capture the payment (the funds will be captured but not charged)</li>     <li>Inform the BE with the corresponding url that the payment has been completed (see <a target=\docs\ href=\./#operation/confirmPaymentForBooking\>docs</a>)</li>     <li>Booking should now be in processing state</li>   </ul>
<h2>Compute Trip</h2>
Request<br>----------------------------<br>ID: 0<br>GET https://api-beta.tripgo.com/v1/routing.json?from=(39.53211452527176,-119.80831146240236)&to=(39.50192146626985,-119.79560852050783)&modes=ps_drt&wp=(1.00,1.00,1.00,1.00)&tt=0&ws=1&cs=1&unit=auto&v=11&ir=1&includeStops=true&bsb=true&departAfter=1657202449<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>---------------------------<br>ID: 0<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json]<br>Payload: <a onclick='openTab(1)' href='javascript:void(0);'>JSON output</a><pre id='1'>{
  "groups": [
    {
      "sources": [{
        "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
        "provider": {
          "name": "OpenStreetMap",
          "website": "https://www.openstreetmap.org"
        }
      }],
      "trips": [{
        "arrive": 1657203153,
        "availability": "MISSED_PREBOOKING_WINDOW",
        "caloriesCost": 0,
        "carbonCost": 1.8,
        "depart": 1657202449,
        "hassleCost": 0,
        "hideExactTimes": false,
        "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "id": "39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "mainSegmentHashCode": -885371041,
        "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "queryIsLeaveAfter": true,
        "queryMinimumTransferSeconds": 0,
        "queryTime": 1657202449,
        "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "segments": [{
          "availability": "MISSED_PREBOOKING_WINDOW",
          "booking": {
            "quickBookingsUrl": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/39865d72-2f2f-40f4-9cde-d2414772b0ea/j7DRSkrV/quick?bsb=1",
            "title": "Get a ride"
          },
          "bookingHashCode": 699343928,
          "durationString": "12 min",
          "endTime": 1657203153,
          "id": "j7DRSkrV",
          "segmentTemplateHashCode": -885371041,
          "startTime": 1657202449
        }],
        "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/39865d72-2f2f-40f4-9cde-d2414772b0ea",
        "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/39865d72-2f2f-40f4-9cde-d2414772b0ea?hash=891514050",
        "weightedScore": 10
      }]
    },
    {
      "sources": [{
        "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
        "provider": {
          "name": "OpenStreetMap",
          "website": "https://www.openstreetmap.org"
        }
      }],
      "trips": [{
        "arrive": 1657203153,
        "availability": "MISSED_PREBOOKING_WINDOW",
        "caloriesCost": 0,
        "carbonCost": 1.8,
        "depart": 1657202449,
        "hassleCost": 0,
        "hideExactTimes": false,
        "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/0619f05c-b738-4037-afd5-935b30bcbcb3",
        "id": "0619f05c-b738-4037-afd5-935b30bcbcb3",
        "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/0619f05c-b738-4037-afd5-935b30bcbcb3",
        "mainSegmentHashCode": -203291773,
        "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/0619f05c-b738-4037-afd5-935b30bcbcb3",
        "queryIsLeaveAfter": true,
        "queryMinimumTransferSeconds": 0,
        "queryTime": 1657202449,
        "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/0619f05c-b738-4037-afd5-935b30bcbcb3",
        "segments": [{
          "availability": "MISSED_PREBOOKING_WINDOW",
          "booking": {
            "accessibilityLabel": "Book with Access to Healthcare Network",
            "quickBookingsUrl": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/0619f05c-b738-4037-afd5-935b30bcbcb3/BPoyEtf3/quick?bsb=1",
            "title": "Book"
          },
          "bookingHashCode": 1959713289,
          "durationString": "12 min",
          "endTime": 1657203153,
          "id": "BPoyEtf3",
          "segmentTemplateHashCode": -203291773,
          "startTime": 1657202449
        }],
        "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/0619f05c-b738-4037-afd5-935b30bcbcb3",
        "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/0619f05c-b738-4037-afd5-935b30bcbcb3?hash=79465348",
        "weightedScore": 10
      }]
    },
    {
      "sources": [{
        "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
        "provider": {
          "name": "OpenStreetMap",
          "website": "https://www.openstreetmap.org"
        }
      }],
      "trips": [{
        "arrive": 1657203153,
        "availability": "MISSED_PREBOOKING_WINDOW",
        "caloriesCost": 0,
        "carbonCost": 1.8,
        "depart": 1657202449,
        "hassleCost": 0,
        "hideExactTimes": false,
        "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "id": "6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "mainSegmentHashCode": 2020403081,
        "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "queryIsLeaveAfter": true,
        "queryMinimumTransferSeconds": 0,
        "queryTime": 1657202449,
        "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "segments": [{
          "availability": "MISSED_PREBOOKING_WINDOW",
          "booking": {
            "accessibilityLabel": "Book with Nevada Rural Counties Retired and Senior Volunteer Program",
            "quickBookingsUrl": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/6c2c4003-f9eb-4da5-8827-68f68ae93fb9/eB1epdJ7/quick?bsb=1",
            "title": "Book"
          },
          "bookingHashCode": 538600274,
          "durationString": "12 min",
          "endTime": 1657203153,
          "id": "eB1epdJ7",
          "segmentTemplateHashCode": 2020403081,
          "startTime": 1657202449
        }],
        "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/6c2c4003-f9eb-4da5-8827-68f68ae93fb9",
        "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/6c2c4003-f9eb-4da5-8827-68f68ae93fb9?hash=823767432",
        "weightedScore": 10
      }]
    },
    {
      "sources": [{
        "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
        "provider": {
          "name": "OpenStreetMap",
          "website": "https://www.openstreetmap.org"
        }
      }],
      "trips": [{
        "arrive": 1657203153,
        "availability": "AVAILABLE",
        "caloriesCost": 0,
        "carbonCost": 1.8,
        "currency": "USD",
        "currencySymbol": "$",
        "depart": 1657202449,
        "hassleCost": 0,
        "hideExactTimes": false,
        "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/06a0532b-decb-442b-afd6-f6f25fc374ac",
        "id": "06a0532b-decb-442b-afd6-f6f25fc374ac",
        "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/06a0532b-decb-442b-afd6-f6f25fc374ac",
        "mainSegmentHashCode": 1830179270,
        "moneyCost": 1,
        "moneyUSDCost": 1,
        "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/06a0532b-decb-442b-afd6-f6f25fc374ac",
        "queryIsLeaveAfter": true,
        "queryMinimumTransferSeconds": 0,
        "queryTime": 1657202449,
        "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/06a0532b-decb-442b-afd6-f6f25fc374ac",
        "segments": [{
          "availability": "AVAILABLE",
          "booking": {
            "accessibilityLabel": "Book with Pyramid Lake Paiute Tribal Transit",
            "quickBookingsUrl": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/quick?bsb=1",
            "title": "Book"
          },
          "bookingHashCode": 2065839702,
          "durationString": "12 min",
          "endTime": 1657203153,
          "id": "rJqVrwIE",
          "segmentTemplateHashCode": 1830179270,
          "startTime": 1657202449
        }],
        "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
        "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/06a0532b-decb-442b-afd6-f6f25fc374ac?hash=-922727320",
        "weightedScore": 11
      }]
    }
  ],
  "query": {
    "depart": "2022-07-07T14:00:49Z",
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53211,
      "lng": -119.80831,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50192,
      "lng": -119.79561,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    }
  },
  "region": "US_NV_Reno",
  "regions": ["US_NV_Reno"],
  "segmentTemplates": [
    {
      "action": "Take N4 Transportation<DURATION>",
      "durationWithoutTraffic": 741,
      "from": {
        "address": "Near Valley Road",
        "class": "Location",
        "lat": 39.53193,
        "lng": -119.8081,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "hashCode": -885371041,
      "metres": 7437,
      "mini": {
        "description": "Near East Grove Street & Yori Avenue",
        "instruction": "Take N4 Transportation",
        "mainValue": "$0"
      },
      "modeIdentifier": "ps_drt",
      "modeInfo": {
        "alt": "Shuttle",
        "color": {
          "blue": 72,
          "green": 92,
          "red": 146
        },
        "description": "N4 Transportation",
        "identifier": "ps_drt_n4-connect-transportation-spedsta",
        "localIcon": "shuttlebus",
        "remoteIconIsBranding": true
      },
      "notes": "Fare applies.\n<TRAFFIC> ⋅ 4 1/2 miles",
      "streets": [{"encodedWaypoints": "oahpFt_gzUIM@eA??{@@s@???EYSkBMBmACY?{@@Y?k@?S???[kCYkC]oCYmCES??BQ?YCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATw@Pi@Rk@Tc@f@w@bDsE`@e@f@g@d@a@j@a@d@W??`CmAbBo@?Al@Yv@e@t@k@p@i@??f@a@|@iAl@_A????pAwA\\_@PQ^[A?VQTQt@e@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDE@AtACvAE?@vAExAClBCvAEV?h@Aj@Az@CdAI|@EdAK??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@I|Bg@zCs@rBg@`AQ|@Ov@K??`@EXEj@Eb@Cd@`B??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@???xW@nBB|GAbJ?d@BdF@|C@hD@jHR^??bEClEBdA?zAAzB?b@?D?R?PDNBJ@L?fD??n@??AzA?`BiD?@dB"}],
      "to": {
        "address": "Near East Grove Street & Yori Avenue",
        "class": "Location",
        "lat": 39.50175,
        "lng": -119.79542,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "travelDirection": 34,
      "type": "unscheduled",
      "visibility": "in summary"
    },
    {
      "action": "Take Access to Healthcare Network<DURATION>",
      "durationWithoutTraffic": 741,
      "from": {
        "address": "Near Valley Road",
        "class": "Location",
        "lat": 39.53193,
        "lng": -119.8081,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "hashCode": -203291773,
      "metres": 7437,
      "mini": {
        "description": "Near East Grove Street & Yori Avenue",
        "instruction": "Take Access to Healthcare Network",
        "mainValue": "$0"
      },
      "modeIdentifier": "ps_drt",
      "modeInfo": {
        "alt": "Shuttle",
        "color": {
          "blue": 74,
          "green": 74,
          "red": 219
        },
        "description": "AHN",
        "identifier": "ps_drt_Healthcare",
        "localIcon": "shuttlebus",
        "remoteIconIsBranding": true
      },
      "notes": "Fare applies.\n<TRAFFIC> ⋅ 4 1/2 miles",
      "streets": [{"encodedWaypoints": "oahpFt_gzUIM@eA??{@@s@???EYSkBMBmACY?{@@Y?k@?S???[kCYkC]oCYmCES??BQ?YCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATw@Pi@Rk@Tc@f@w@bDsE`@e@f@g@d@a@j@a@d@W??`CmAbBo@?Al@Yv@e@t@k@p@i@??f@a@|@iAl@_A????pAwA\\_@PQ^[A?VQTQt@e@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDE@AtACvAE?@vAExAClBCvAEV?h@Aj@Az@CdAI|@EdAK??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@I|Bg@zCs@rBg@`AQ|@Ov@K??`@EXEj@Eb@Cd@`B??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@???xW@nBB|GAbJ?d@BdF@|C@hD@jHR^??bEClEBdA?zAAzB?b@?D?R?PDNBJ@L?fD??n@??AzA?`BiD?@dB"}],
      "to": {
        "address": "Near East Grove Street & Yori Avenue",
        "class": "Location",
        "lat": 39.50175,
        "lng": -119.79542,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "travelDirection": 34,
      "type": "unscheduled",
      "visibility": "in summary"
    },
    {
      "action": "Take Nevada Rural Counties Retired and Senior Volunteer Program<DURATION>",
      "durationWithoutTraffic": 741,
      "from": {
        "address": "Near Valley Road",
        "class": "Location",
        "lat": 39.53193,
        "lng": -119.8081,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "hashCode": 2020403081,
      "metres": 7437,
      "mini": {
        "description": "Near East Grove Street & Yori Avenue",
        "instruction": "Take Nevada Rural Counties Retired and Senior Volunteer Program",
        "mainValue": "$0"
      },
      "modeIdentifier": "ps_drt",
      "modeInfo": {
        "alt": "Shuttle",
        "color": {
          "blue": 158,
          "green": 112,
          "red": 52
        },
        "description": "RSVP-Rural",
        "identifier": "ps_drt_RSVP",
        "localIcon": "shuttlebus",
        "remoteIconIsBranding": true
      },
      "notes": "Fare applies.\n<TRAFFIC> ⋅ 4 1/2 miles",
      "streets": [{"encodedWaypoints": "oahpFt_gzUIM@eA??{@@s@???EYSkBMBmACY?{@@Y?k@?S???[kCYkC]oCYmCES??BQ?YCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATw@Pi@Rk@Tc@f@w@bDsE`@e@f@g@d@a@j@a@d@W??`CmAbBo@?Al@Yv@e@t@k@p@i@??f@a@|@iAl@_A????pAwA\\_@PQ^[A?VQTQt@e@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDE@AtACvAE?@vAExAClBCvAEV?h@Aj@Az@CdAI|@EdAK??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@I|Bg@zCs@rBg@`AQ|@Ov@K??`@EXEj@Eb@Cd@`B??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@???xW@nBB|GAbJ?d@BdF@|C@hD@jHR^??bEClEBdA?zAAzB?b@?D?R?PDNBJ@L?fD??n@??AzA?`BiD?@dB"}],
      "to": {
        "address": "Near East Grove Street & Yori Avenue",
        "class": "Location",
        "lat": 39.50175,
        "lng": -119.79542,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "travelDirection": 34,
      "type": "unscheduled",
      "visibility": "in summary"
    },
    {
      "action": "Take Pyramid Lake Paiute Tribal Transit<DURATION>",
      "durationWithoutTraffic": 741,
      "from": {
        "address": "Near Valley Road",
        "class": "Location",
        "lat": 39.53193,
        "lng": -119.8081,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "hashCode": 1830179270,
      "localCost": {
        "accuracy": "internal_estimate",
        "cost": 1,
        "costComponents": [{
          "cost": 1,
          "type": "TAXI_BOOKING_FEE"
        }],
        "currency": "USD"
      },
      "metres": 7437,
      "mini": {
        "description": "Near East Grove Street & Yori Avenue",
        "instruction": "Take Pyramid Lake Paiute Tribal Transit",
        "mainValue": "$1"
      },
      "modeIdentifier": "ps_drt",
      "modeInfo": {
        "alt": "Shuttle",
        "color": {
          "blue": 19,
          "green": 29,
          "red": 152
        },
        "description": "Pyramid Lake",
        "identifier": "ps_drt_pyramid-lake",
        "localIcon": "shuttlebus",
        "remoteIconIsBranding": true
      },
      "notes": "Fare: from $1 (estimate)\n<TRAFFIC> ⋅ 4 1/2 miles",
      "streets": [{"encodedWaypoints": "oahpFt_gzUIM@eA??{@@s@???EYSkBMBmACY?{@@Y?k@?S???[kCYkC]oCYmCES??BQ?YCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATw@Pi@Rk@Tc@f@w@bDsE`@e@f@g@d@a@j@a@d@W??`CmAbBo@?Al@Yv@e@t@k@p@i@??f@a@|@iAl@_A????pAwA\\_@PQ^[A?VQTQt@e@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDE@AtACvAE?@vAExAClBCvAEV?h@Aj@Az@CdAI|@EdAK??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@I|Bg@zCs@rBg@`AQ|@Ov@K??`@EXEj@Eb@Cd@`B??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@???xW@nBB|GAbJ?d@BdF@|C@hD@jHR^??bEClEBdA?zAAzB?b@?D?R?PDNBJ@L?fD??n@??AzA?`BiD?@dB"}],
      "to": {
        "address": "Near East Grove Street & Yori Avenue",
        "class": "Location",
        "lat": 39.50175,
        "lng": -119.79542,
        "region": "US_NV_Reno",
        "timezone": "America/Los_Angeles"
      },
      "travelDirection": 34,
      "type": "unscheduled",
      "visibility": "in summary"
    }
  ]
}</pre><br>----------------------------<br>
<h2>Retrieve same trip</h2>
<p>Use the trip's temporary url to retrieve the trip, or the update url to retrieve an updated version of it</p>
Request<br>----------------------------<br>ID: 1<br>GET https://api-beta.tripgo.com/v1/trip/06a0532b-decb-442b-afd6-f6f25fc374ac<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 1<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Cache-Control=[no-cache], Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:14:57 GMT]}<br>Payload: <a onclick='openTab(2)' href='javascript:void(0);'>JSON output</a><pre id='2'>{
  "groups": [{
    "sources": [{
      "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
      "provider": {
        "name": "OpenStreetMap",
        "website": "https://www.openstreetmap.org"
      }
    }],
    "trips": [{
      "arrive": 1657203153,
      "availability": "AVAILABLE",
      "caloriesCost": 0,
      "carbonCost": 1.8,
      "currency": "USD",
      "currencySymbol": "$",
      "depart": 1657202449,
      "hassleCost": 0,
      "hideExactTimes": false,
      "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "id": "06a0532b-decb-442b-afd6-f6f25fc374ac",
      "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "mainSegmentHashCode": 1830179270,
      "moneyCost": 1,
      "moneyUSDCost": 1,
      "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "queryIsLeaveAfter": true,
      "queryMinimumTransferSeconds": 0,
      "queryTime": 1657202449,
      "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "segments": [{
        "availability": "AVAILABLE",
        "booking": {
          "accessibilityLabel": "Book with Pyramid Lake Paiute Tribal Transit",
          "quickBookingsUrl": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/quick?bsb=1",
          "title": "Book"
        },
        "bookingHashCode": 2065839702,
        "durationString": "12 min",
        "endTime": 1657203153,
        "id": "rJqVrwIE",
        "segmentTemplateHashCode": 1830179270,
        "startTime": 1657202449
      }],
      "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/06a0532b-decb-442b-afd6-f6f25fc374ac?hash=-922727320",
      "weightedScore": 11
    }]
  }],
  "query": {
    "depart": "2022-07-07T14:00:49Z",
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53211,
      "lng": -119.80831,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    }
  },
  "region": "US_NV_Reno",
  "regions": ["US_NV_Reno"],
  "segmentTemplates": [{
    "action": "Take Pyramid Lake Paiute Tribal Transit<DURATION>",
    "durationWithoutTraffic": 741,
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53193,
      "lng": -119.8081,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "hashCode": 1830179270,
    "localCost": {
      "accuracy": "internal_estimate",
      "cost": 1,
      "costComponents": [{
        "cost": 1,
        "type": "TAXI_BOOKING_FEE"
      }],
      "currency": "USD"
    },
    "metres": 7437,
    "mini": {
      "description": "Near East Grove Street & Yori Avenue",
      "instruction": "Take Pyramid Lake Paiute Tribal Transit",
      "mainValue": "$1"
    },
    "modeIdentifier": "ps_drt",
    "modeInfo": {
      "alt": "Shuttle",
      "color": {
        "blue": 19,
        "green": 29,
        "red": 152
      },
      "description": "Pyramid Lake",
      "identifier": "ps_drt_pyramid-lake",
      "localIcon": "shuttlebus",
      "remoteIconIsBranding": true
    },
    "notes": "Fare: from $1 (estimate)\n<TRAFFIC> ⋅ 4 1/2 miles",
    "streets": [{"encodedWaypoints": "oahpFt_gzUIM@eA??{@@s@???EYSkBMBmACY?{@@Y?k@?S???[kCYkC]oCYmCES??BQ?YCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATw@Pi@Rk@Tc@f@w@bDsE`@e@f@g@d@a@j@a@d@W??`CmAbBo@?Al@Yv@e@t@k@p@i@??f@a@|@iAl@_A????pAwA\\_@PQ^[A?VQTQt@e@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDE@AtACvAE?@vAExAClBCvAEV?h@Aj@Az@CdAI|@EdAK??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@I|Bg@zCs@rBg@`AQ|@Ov@K??`@EXEj@Eb@Cd@`B??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@???xW@nBB|GAbJ?d@BdF@|C@hD@jHR^??bEClEBdA?zAAzB?b@?D?R?PDNBJ@L?fD??n@??AzA?`BiD?@dB"}],
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "travelDirection": 34,
    "type": "unscheduled",
    "visibility": "in summary"
  }]
}</pre><br>----------------------------<br>
<h2>Book selecting one ticket</h2>
<p>Select the segment that can be booked, you will get the details that need to be filled by hitting booking.quickBookingsUrl of the segment. POST the required input data and the new tickets data into the booking URL, as usual. The only new part here is to display and send the tickets. </p>
Request<br>----------------------------<br>ID: 2<br>GET https://api-beta.tripgo.com/v1/booking1/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/quick?bsb=1<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 2<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:14:57 GMT]}<br>Payload: <a onclick='openTab(3)' href='javascript:void(0);'>JSON output</a><pre id='3'>[{
  "bookingTitle": "Take Pyramid Lake Paiute Tribal Transit",
  "bookingURL": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/quick/1?bsb=1",
  "bookingURLIsDeepLink": false,
  "count": 1,
  "index": 1,
  "input": [
    {
      "id": "mobilityOptions",
      "options": [
        {
          "codeCategory": "AER",
          "codeNumber": "04",
          "id": "guest",
          "title": "Guest"
        },
        {
          "codeCategory": "HR",
          "codeNumber": "11",
          "id": "crutches",
          "title": "Crutches"
        },
        {
          "codeCategory": "AB",
          "codeNumber": "02",
          "id": "doorToDoor",
          "title": "Door To Door"
        },
        {
          "codeCategory": "HR",
          "codeNumber": "07",
          "id": "walker",
          "title": "Walker"
        }
      ],
      "required": false,
      "title": "Mobility options",
      "type": "MULTIPLE_CHOICE",
      "values": [
        "guest",
        "doorToDoor"
      ]
    },
    {
      "id": "returnTrip",
      "required": false,
      "title": "Return trip",
      "type": "RETURN_TRIP",
      "value": ""
    },
    {
      "id": "notes",
      "required": false,
      "title": "Add note",
      "type": "LONG_TEXT",
      "value": ""
    }
  ],
  "tickets": [{
    "currency": "USD",
    "description": "Regular ticket, for single ride trips",
    "id": "default",
    "name": "Regular",
    "price": 100
  }],
  "title": "DRT",
  "tripUpdateURL": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/update/1?bsb=1"
}]</pre><br>----------------------------<br>
Request<br>----------------------------<br>ID: 3<br>POST https://api-beta.tripgo.com/v1/booking1/v1/06a0532b-decb-442b-afd6-f6f25fc374ac/rJqVrwIE/quick/1?bsb=1<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>Payload: <a onclick='openTab(4)' href='javascript:void(0);'>JSON output</a><pre id='4'>{
  "input": [
    {
      "id": "mobilityOptions",
      "options": [
        {
          "codeCategory": "AER",
          "codeNumber": "04",
          "id": "guest",
          "title": "Guest"
        },
        {
          "codeCategory": "HR",
          "codeNumber": "11",
          "id": "crutches",
          "title": "Crutches"
        },
        {
          "codeCategory": "AB",
          "codeNumber": "02",
          "id": "doorToDoor",
          "title": "Door To Door"
        },
        {
          "codeCategory": "HR",
          "codeNumber": "07",
          "id": "walker",
          "title": "Walker"
        }
      ],
      "required": false,
      "title": "Mobility options",
      "type": "MULTIPLE_CHOICE",
      "values": [
        "guest",
        "doorToDoor"
      ]
    },
    {
      "id": "returnTrip",
      "required": false,
      "title": "Return trip",
      "type": "RETURN_TRIP",
      "value": ""
    },
    {
      "id": "notes",
      "required": false,
      "title": "Add note",
      "type": "LONG_TEXT",
      "value": ""
    }
  ],
  "tickets": [{
    "currency": "USD",
    "description": "Regular ticket, for single ride trips",
    "id": "default",
    "name": "Regular",
    "price": 100,
    "value": "1"
  }]
}</pre><br>----------------------------<br>
Response<br>----------------------------<br>ID: 3<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:14:59 GMT]}<br>Payload: <a onclick='openTab(5)' href='javascript:void(0);'>JSON output</a><pre id='5'>{
  "action": {
    "done": true,
    "title": "Done"
  },
  "refreshURLForSourceObject": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/57daeb84-2ce7-4a76-984f-3a81dfced93d/update?bsb=1",
  "type": "bookingForm"
}</pre><br>----------------------------<br>
<h2>Retrieve same trip after booking</h2>
<p>Use the trip's update url to retrieve the updated version of the trip</p>
Request<br>----------------------------<br>ID: 4<br>GET https://api-beta.tripgo.com/v1/trip/06a0532b-decb-442b-afd6-f6f25fc374ac<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 4<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Cache-Control=[no-cache], Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:00 GMT]}<br>Payload: <a onclick='openTab(6)' href='javascript:void(0);'>JSON output</a><pre id='6'>{
  "groups": [{
    "sources": [{
      "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
      "provider": {
        "name": "OpenStreetMap",
        "website": "https://www.openstreetmap.org"
      }
    }],
    "trips": [{
      "appURL": "http://localhost:8080/satapp-debug/trip/06a0532b-decb-442b-afd6-f6f25fc374ac?appID=feonix-n4",
      "arrive": 1657203153,
      "availability": "AVAILABLE",
      "bundleId": "",
      "caloriesCost": 0,
      "carbonCost": 1.8,
      "currency": "USD",
      "currencySymbol": "$",
      "depart": 1657202449,
      "hassleCost": 0,
      "hideExactTimes": false,
      "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "id": "06a0532b-decb-442b-afd6-f6f25fc374ac",
      "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "mainSegmentHashCode": 1483169264,
      "moneyCost": 1,
      "moneyUSDCost": 1,
      "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "queryIsLeaveAfter": true,
      "queryMinimumTransferSeconds": 0,
      "queryTime": 1657202449,
      "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "segments": [{
        "availability": "AVAILABLE",
        "booking": {
          "confirmation": {
            "actions": [
              {
                "internalURL": "https://galaxies.skedgo.com/lab/beta/satapp/payment/booking/57daeb84-2ce7-4a76-984f-3a81dfced93d?psb=1",
                "isDestructive": false,
                "title": "Pay Booking",
                "type": "WAITINGPAYMENT"
              },
              {
                "externalURL": "tel:775-574-2410",
                "isDestructive": false,
                "title": "Call Service",
                "type": "CALL"
              }
            ],
            "input": [
              {
                "id": "mobilityOptions",
                "options": [
                  {
                    "codeCategory": "AER",
                    "codeNumber": "04",
                    "id": "guest",
                    "title": "Guest"
                  },
                  {
                    "codeCategory": "HR",
                    "codeNumber": "11",
                    "id": "crutches",
                    "title": "Crutches"
                  },
                  {
                    "codeCategory": "AB",
                    "codeNumber": "02",
                    "id": "doorToDoor",
                    "title": "Door To Door"
                  },
                  {
                    "codeCategory": "HR",
                    "codeNumber": "07",
                    "id": "walker",
                    "title": "Walker"
                  }
                ],
                "required": false,
                "title": "Mobility options",
                "type": "MULTIPLE_CHOICE",
                "values": [
                  "guest",
                  "doorToDoor"
                ]
              },
              {
                "id": "returnTrip",
                "required": false,
                "title": "Return trip",
                "type": "RETURN_TRIP",
                "value": ""
              },
              {
                "id": "notes",
                "required": false,
                "title": "Add note",
                "type": "LONG_TEXT",
                "value": ""
              }
            ],
            "provider": {
              "subtitle": "775-574-2410",
              "title": "Pyramid Lake Paiute Tribal Transit"
            },
            "purchase": {
              "brand": {
                "color": {
                  "blue": 255,
                  "green": 255,
                  "red": 255
                },
                "name": "Pyramid Lake Paiute Tribal Transit",
                "phone": "775-574-2410",
                "website": "www.plpt.nsn.us"
              },
              "currency": "USD",
              "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
              "price": 1,
              "productName": "Pyramid Lake Paiute Tribal Transit",
              "productType": "ps_drt_pyramid-lake",
              "valid": true,
              "validFromTimestamp": "2022-07-07T07:00:49-07:00"
            },
            "status": {
              "imageURL": "https://api.tripgo.com/v1/modeicons/img-booking-pending@2x.png",
              "subtitle": "Ride has been quoted, you need to pay for it to continue.",
              "title": "Waiting Payment",
              "value": "WAITING_PAYMENT"
            },
            "tickets": [{
              "currency": "USD",
              "description": "Regular ticket, for single ride trips",
              "id": "default",
              "name": "Regular",
              "price": 100,
              "value": 1
            }]
          },
          "title": "Manage Booking"
        },
        "bookingHashCode": 523609723,
        "durationString": "12 min",
        "endTime": 1657203153,
        "id": "rJqVrwIE",
        "segmentTemplateHashCode": 1483169264,
        "startTime": 1657202449
      }],
      "shareURL": "https://beta.tripgo.com/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/06a0532b-decb-442b-afd6-f6f25fc374ac?hash=2020377304",
      "weightedScore": 11
    }]
  }],
  "query": {
    "depart": "2022-07-07T14:00:49Z",
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53211,
      "lng": -119.80831,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    }
  },
  "region": "US_NV_Reno",
  "regions": ["US_NV_Reno"],
  "segmentTemplates": [{
    "action": "Take Pyramid Lake Paiute Tribal Transit<DURATION>",
    "durationWithoutTraffic": 741,
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53193,
      "lng": -119.8081,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "hashCode": 1483169264,
    "localCost": {
      "accuracy": "internal_estimate",
      "cost": 1,
      "costComponents": [{
        "cost": 1,
        "type": "TAXI_BOOKING_FEE"
      }],
      "currency": "USD"
    },
    "metres": 7437,
    "mini": {
      "description": "Near East Grove Street & Yori Avenue",
      "instruction": "Take Pyramid Lake Paiute Tribal Transit",
      "mainValue": "$1"
    },
    "modeIdentifier": "ps_drt_pyramid-lake",
    "modeInfo": {
      "alt": "Shuttle",
      "color": {
        "blue": 19,
        "green": 29,
        "red": 152
      },
      "description": "Pyramid Lake",
      "identifier": "ps_drt_pyramid-lake",
      "localIcon": "shuttlebus",
      "remoteIconIsBranding": true
    },
    "notes": "Fare: from $1 (estimate)\n<TRAFFIC> ⋅ 4 1/2 miles",
    "streets": [{"encodedWaypoints": "oahpFt_gzUIM@gA??{@Bs@???EYQkBOBmACY?{@@Y?k@?S???[kCYmC]mCYmCEU?@BS?WCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATy@Pi@Ri@Tc@f@w@bDsE`@g@f@e@d@a@j@a@d@W??`CmAbBq@??l@Yv@g@t@i@p@i@??f@a@|@iAl@_A????pAwA\\a@PO^[A?VQTSt@c@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDG@?tAEvAC?@vAExAClBCvAEV?h@Aj@Az@CdAI|@GdAI??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@K|Be@zCs@rBg@`AQ|@Qv@I??`@EXEj@Eb@Ed@bB??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@?A?zW@nBB|GAbJ?d@BdF@|C@fD@lHR^??bEClE@dA?zA?zBAb@@D?R?PDNBJ@L?fD??n@??AzA?`BiD?@bB"}],
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "travelDirection": 34,
    "type": "unscheduled",
    "visibility": "in summary"
  }]
}</pre><br>----------------------------<br>
<h2>Confirm it is waiting payment state</h2>
<p>New status should be waiting for payment</p>
Request<br>----------------------------<br>ID: 5<br>GET https://api-beta.tripgo.com/v1/booking2/v2/57daeb84-2ce7-4a76-984f-3a81dfced93d<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 5<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:00 GMT]}<br>Payload: <a onclick='openTab(7)' href='javascript:void(0);'>JSON output</a><pre id='7'>{
  "confirmation": {
    "actions": [
      {
        "internalURL": "https://galaxies.skedgo.com/lab/beta/satapp/payment/booking/57daeb84-2ce7-4a76-984f-3a81dfced93d?psb=1",
        "isDestructive": false,
        "title": "Pay Booking",
        "type": "WAITINGPAYMENT"
      },
      {
        "externalURL": "tel:775-574-2410",
        "isDestructive": false,
        "title": "Call Service",
        "type": "CALL"
      }
    ],
    "input": [
      {
        "id": "mobilityOptions",
        "options": [
          {
            "codeCategory": "AER",
            "codeNumber": "04",
            "id": "guest",
            "title": "Guest"
          },
          {
            "codeCategory": "HR",
            "codeNumber": "11",
            "id": "crutches",
            "title": "Crutches"
          },
          {
            "codeCategory": "AB",
            "codeNumber": "02",
            "id": "doorToDoor",
            "title": "Door To Door"
          },
          {
            "codeCategory": "HR",
            "codeNumber": "07",
            "id": "walker",
            "title": "Walker"
          }
        ],
        "required": false,
        "title": "Mobility options",
        "type": "MULTIPLE_CHOICE",
        "values": [
          "guest",
          "doorToDoor"
        ]
      },
      {
        "id": "returnTrip",
        "required": false,
        "title": "Return trip",
        "type": "RETURN_TRIP",
        "value": ""
      },
      {
        "id": "notes",
        "required": false,
        "title": "Add note",
        "type": "LONG_TEXT",
        "value": ""
      }
    ],
    "provider": {
      "subtitle": "775-574-2410",
      "title": "Pyramid Lake Paiute Tribal Transit"
    },
    "purchase": {
      "brand": {
        "color": {
          "blue": 255,
          "green": 255,
          "red": 255
        },
        "name": "Pyramid Lake Paiute Tribal Transit",
        "phone": "775-574-2410",
        "website": "www.plpt.nsn.us"
      },
      "currency": "USD",
      "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
      "price": 1,
      "productName": "Pyramid Lake Paiute Tribal Transit",
      "productType": "ps_drt_pyramid-lake",
      "valid": true,
      "validFromTimestamp": "2022-07-07T07:00:49-07:00"
    },
    "status": {
      "imageURL": "https://api.tripgo.com/v1/modeicons/img-booking-pending@2x.png",
      "subtitle": "Ride has been quoted, you need to pay for it to continue.",
      "title": "Waiting Payment",
      "value": "WAITING_PAYMENT"
    },
    "tickets": [{
      "currency": "USD",
      "description": "Regular ticket, for single ride trips",
      "id": "default",
      "name": "Regular",
      "price": 100,
      "value": 1
    }]
  },
  "datetime": "2022-07-07T07:00:49-07:00[America/Los_Angeles]",
  "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
  "index": 1,
  "isExternal": true,
  "mode": "ps_drt_pyramid-lake",
  "timeZone": "America/Los_Angeles",
  "trips": ["https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac"],
  "tripsInfo": [{
    "destination": {
      "address": "East Grove Street & Yori Avenue",
      "lat": 39.50174695644644,
      "lng": -119.79542004498389
    },
    "legs": [
      {
        "metric": {
          "calories": 0,
          "carbon": 0,
          "currencySymbol": "$",
          "duration": 0,
          "hassle": 0,
          "localCost": 0,
          "usdCost": 0
        },
        "modeInfo": {
          "alt": "Wait",
          "identifier": "stationary_wait",
          "localIcon": "wait",
          "remoteIconIsTemplate": false
        }
      },
      {
        "metric": {
          "calories": 0,
          "carbon": 1.8148512840270996,
          "currencySymbol": "$",
          "duration": 704,
          "hassle": 0,
          "localCost": 1,
          "usdCost": 1
        },
        "modeInfo": {
          "alt": "Shuttle",
          "color": {
            "blue": 19,
            "green": 29,
            "red": 152
          },
          "description": "Pyramid Lake",
          "identifier": "ps_drt_pyramid-lake",
          "localIcon": "shuttlebus",
          "remoteIconIsTemplate": false
        }
      }
    ],
    "origin": {
      "address": "Valley Road",
      "lat": 39.53211452527176,
      "lng": -119.80831146240236
    }
  }]
}</pre><br>----------------------------<br>
<h2>Start payment action</h2>
<p>Next, you need to a GET on the payment action url to get the PaymentOptionsForBooking. You will get the details of the tickets you are buying, the ones you selected. And also one payment option for now.</p>
Request<br>----------------------------<br>ID: 6<br>GET https://api-beta.tripgo.com/v1/payment/booking/57daeb84-2ce7-4a76-984f-3a81dfced93d?psb=1<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 6<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:00 GMT]}<br>Payload: <a onclick='openTab(8)' href='javascript:void(0);'>JSON output</a><pre id='8'>{
  "paymentOptions": [{
    "currency": "USD",
    "description": "Price for Regular tickets",
    "fullPrice": 100,
    "url": "https://galaxies.skedgo.com/lab/beta/satapp/data/user/booking/57daeb84-2ce7-4a76-984f-3a81dfced93d/pay?psb=true"
  }],
  "review": [{
    "arrive": "2022-07-07T14:12:33Z",
    "currency": "USD",
    "depart": "2022-07-07T14:00:49Z",
    "destination": {
      "address": "East Grove Street & Yori Avenue",
      "lat": 39.50174695644644,
      "lng": -119.79542004498389
    },
    "origin": {
      "address": "Valley Road",
      "lat": 39.53211452527176,
      "lng": -119.80831146240236
    },
    "price": 1,
    "provider": {
      "subtitle": "775-574-2410",
      "title": "Pyramid Lake Paiute Tribal Transit"
    },
    "tickets": [{
      "currency": "USD",
      "description": "Regular ticket, for single ride trips",
      "id": "default",
      "name": "Regular",
      "price": 100,
      "value": 1
    }],
    "transport mode": "ps_drt_pyramid-lake"
  }]
}</pre><br>----------------------------<br>
<h2>Select payment option</h2>
<p>Do a GET on the only payment option available to retrieve the payment intent to be used on Stripe in the app and the url to hit once payment is completed. </p>
Request<br>----------------------------<br>ID: 7<br>GET https://api-beta.tripgo.com/v1/payment/booking/57daeb84-2ce7-4a76-984f-3a81dfced93d/pay?psb=true<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 7<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:02 GMT]}<br>Payload: <a onclick='openTab(9)' href='javascript:void(0);'>JSON output</a><pre id='9'>{
  "clientSecret": "pi_3LHyTqJMSksjXt3e1SgkoNPj_secret_diZidB1UAbsSNuGLaQGlCJZ9s",
  "paymentIntentID": "pi_3LHyTqJMSksjXt3e1SgkoNPj",
  "url": "https://galaxies.skedgo.com/lab/beta/satapp/data/user/booking/paid/pi_3LHyTqJMSksjXt3e1SgkoNPj?psb=true"
}</pre><br>----------------------------<br>
<h2>Confirm payment done</h2>
<p>Once payment is completed, do a GET on the url retrieved on the previous step. This is the last step</p>
Request<br>----------------------------<br>ID: 8<br>GET https://api-beta.tripgo.com/v1/payment/booking/paid/pi_3LHyTqJMSksjXt3e1SgkoNPj?psb=true<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 8<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:03 GMT]}<br>Payload: <a onclick='openTab(10)' href='javascript:void(0);'>JSON output</a><pre id='10'>{
  "confirmation": {
    "actions": [
      {
        "confirmationMessage": "Are you sure you'd like to cancel this booking? Once canceled, you'll have to make a new one.",
        "internalURL": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/57daeb84-2ce7-4a76-984f-3a81dfced93d/cancel?bsb=1",
        "isDestructive": true,
        "title": "Cancel",
        "type": "CANCEL"
      },
      {
        "externalURL": "tel:775-574-2410",
        "isDestructive": false,
        "title": "Call Service",
        "type": "CALL"
      }
    ],
    "input": [
      {
        "id": "mobilityOptions",
        "options": [
          {
            "codeCategory": "AER",
            "codeNumber": "04",
            "id": "guest",
            "title": "Guest"
          },
          {
            "codeCategory": "HR",
            "codeNumber": "11",
            "id": "crutches",
            "title": "Crutches"
          },
          {
            "codeCategory": "AB",
            "codeNumber": "02",
            "id": "doorToDoor",
            "title": "Door To Door"
          },
          {
            "codeCategory": "HR",
            "codeNumber": "07",
            "id": "walker",
            "title": "Walker"
          }
        ],
        "required": false,
        "title": "Mobility options",
        "type": "MULTIPLE_CHOICE",
        "values": [
          "guest",
          "doorToDoor"
        ]
      },
      {
        "id": "returnTrip",
        "required": false,
        "title": "Return trip",
        "type": "RETURN_TRIP",
        "value": ""
      },
      {
        "id": "notes",
        "required": false,
        "title": "Add note",
        "type": "LONG_TEXT",
        "value": ""
      }
    ],
    "paymentStatus": "REQUIRES_CAPTURE",
    "provider": {
      "subtitle": "775-574-2410",
      "title": "Pyramid Lake Paiute Tribal Transit"
    },
    "purchase": {
      "brand": {
        "color": {
          "blue": 255,
          "green": 255,
          "red": 255
        },
        "name": "Pyramid Lake Paiute Tribal Transit",
        "phone": "775-574-2410",
        "website": "www.plpt.nsn.us"
      },
      "currency": "USD",
      "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
      "price": 1,
      "productName": "Pyramid Lake Paiute Tribal Transit",
      "productType": "ps_drt_pyramid-lake",
      "valid": true,
      "validFromTimestamp": "2022-07-07T07:00:49-07:00"
    },
    "status": {
      "imageURL": "https://api.tripgo.com/v1/modeicons/img-booking-looking-for-driver@2x.png",
      "subtitle": "Your request has been sent to the transit agency for review and consideration.",
      "title": "Processing",
      "value": "PROCESSING"
    },
    "tickets": [{
      "currency": "USD",
      "description": "Regular ticket, for single ride trips",
      "id": "default",
      "name": "Regular",
      "price": 100,
      "value": 1
    }]
  },
  "datetime": "2022-07-07T07:00:49-07:00[America/Los_Angeles]",
  "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
  "index": 1,
  "isExternal": true,
  "mode": "ps_drt_pyramid-lake",
  "time": 1657202449,
  "timeZone": "America/Los_Angeles",
  "trips": ["https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac"],
  "tripsInfo": [{
    "destination": {
      "address": "East Grove Street & Yori Avenue",
      "lat": 39.50174695644644,
      "lng": -119.79542004498389
    },
    "legs": [
      {
        "metric": {
          "calories": 0,
          "carbon": 0,
          "currencySymbol": "$",
          "duration": 0,
          "hassle": 0,
          "localCost": 0,
          "usdCost": 0
        },
        "modeInfo": {
          "alt": "Wait",
          "identifier": "stationary_wait",
          "localIcon": "wait",
          "remoteIconIsTemplate": false
        }
      },
      {
        "metric": {
          "calories": 0,
          "carbon": 1.8148512840270996,
          "currencySymbol": "$",
          "duration": 704,
          "hassle": 0,
          "localCost": 1,
          "usdCost": 1
        },
        "modeInfo": {
          "alt": "Shuttle",
          "color": {
            "blue": 19,
            "green": 29,
            "red": 152
          },
          "description": "Pyramid Lake",
          "identifier": "ps_drt_pyramid-lake",
          "localIcon": "shuttlebus",
          "remoteIconIsTemplate": false
        }
      }
    ],
    "origin": {
      "address": "Valley Road",
      "lat": 39.53211452527176,
      "lng": -119.80831146240236
    }
  }]
}</pre><br>----------------------------<br>
<h2>Retrieve trip</h2>
<p>Use the trip's update url to retrieve the updated version of the trip</p>
Request<br>----------------------------<br>ID: 9<br>GET https://api-beta.tripgo.com/v1/trip/06a0532b-decb-442b-afd6-f6f25fc374ac<br>Content-Type: application/json<br>Headers: {Content-Type=[application/json], Accept=[application/json], userToken=[USER-TOKEN], X-TripGo-Key=[TRIPGO-KEY], User-Agent=[test]}<br>----------------------------<br>
Response<br>----------------------------<br>ID: 9<br>Response-Code: 200<br>Content-Type: application/json<br>Headers: {Cache-Control=[no-cache], Content-Type=[application/json], Date=[Mon, 04 Jul 2022 23:15:04 GMT]}<br>Payload: <a onclick='openTab(11)' href='javascript:void(0);'>JSON output</a><pre id='11'>{
  "groups": [{
    "sources": [{
      "disclaimer": "\u00a9 OpenStreetMap contributors\n\nMap data available under the Open Database License. For more information, see http://www.openstreetmap.org/copyright.",
      "provider": {
        "name": "OpenStreetMap",
        "website": "https://www.openstreetmap.org"
      }
    }],
    "trips": [{
      "appURL": "http://localhost:8080/satapp-debug/trip/06a0532b-decb-442b-afd6-f6f25fc374ac?appID=feonix-n4",
      "arrive": 1657203153,
      "availability": "AVAILABLE",
      "bundleId": "",
      "caloriesCost": 0,
      "carbonCost": 1.8,
      "currency": "USD",
      "currencySymbol": "$",
      "depart": 1657202449,
      "hassleCost": 0,
      "hideExactTimes": false,
      "hookURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/hook/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "id": "06a0532b-decb-442b-afd6-f6f25fc374ac",
      "logURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/log/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "mainSegmentHashCode": 1483169264,
      "moneyCost": 1,
      "moneyUSDCost": 1,
      "plannedURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/planned/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "queryIsLeaveAfter": true,
      "queryMinimumTransferSeconds": 0,
      "queryTime": 1657202449,
      "saveURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/save/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "segments": [{
        "availability": "AVAILABLE",
        "booking": {
          "confirmation": {
            "actions": [
              {
                "confirmationMessage": "Are you sure you'd like to cancel this booking? Once canceled, you'll have to make a new one.",
                "internalURL": "https://galaxies.skedgo.com/lab/beta/satapp/booking/v1/57daeb84-2ce7-4a76-984f-3a81dfced93d/cancel?bsb=1",
                "isDestructive": true,
                "title": "Cancel",
                "type": "CANCEL"
              },
              {
                "externalURL": "tel:775-574-2410",
                "isDestructive": false,
                "title": "Call Service",
                "type": "CALL"
              }
            ],
            "input": [
              {
                "id": "mobilityOptions",
                "options": [
                  {
                    "codeCategory": "AER",
                    "codeNumber": "04",
                    "id": "guest",
                    "title": "Guest"
                  },
                  {
                    "codeCategory": "HR",
                    "codeNumber": "11",
                    "id": "crutches",
                    "title": "Crutches"
                  },
                  {
                    "codeCategory": "AB",
                    "codeNumber": "02",
                    "id": "doorToDoor",
                    "title": "Door To Door"
                  },
                  {
                    "codeCategory": "HR",
                    "codeNumber": "07",
                    "id": "walker",
                    "title": "Walker"
                  }
                ],
                "required": false,
                "title": "Mobility options",
                "type": "MULTIPLE_CHOICE",
                "values": [
                  "guest",
                  "doorToDoor"
                ]
              },
              {
                "id": "returnTrip",
                "required": false,
                "title": "Return trip",
                "type": "RETURN_TRIP",
                "value": ""
              },
              {
                "id": "notes",
                "required": false,
                "title": "Add note",
                "type": "LONG_TEXT",
                "value": ""
              }
            ],
            "paymentStatus": "REQUIRES_CAPTURE",
            "provider": {
              "subtitle": "775-574-2410",
              "title": "Pyramid Lake Paiute Tribal Transit"
            },
            "purchase": {
              "brand": {
                "color": {
                  "blue": 255,
                  "green": 255,
                  "red": 255
                },
                "name": "Pyramid Lake Paiute Tribal Transit",
                "phone": "775-574-2410",
                "website": "www.plpt.nsn.us"
              },
              "currency": "USD",
              "id": "57daeb84-2ce7-4a76-984f-3a81dfced93d",
              "price": 1,
              "productName": "Pyramid Lake Paiute Tribal Transit",
              "productType": "ps_drt_pyramid-lake",
              "valid": true,
              "validFromTimestamp": "2022-07-07T07:00:49-07:00"
            },
            "status": {
              "imageURL": "https://api.tripgo.com/v1/modeicons/img-booking-looking-for-driver@2x.png",
              "subtitle": "Your request has been sent to the transit agency for review and consideration.",
              "title": "Processing",
              "value": "PROCESSING"
            },
            "tickets": [{
              "currency": "USD",
              "description": "Regular ticket, for single ride trips",
              "id": "default",
              "name": "Regular",
              "price": 100,
              "value": 1
            }]
          },
          "title": "Manage Booking"
        },
        "bookingHashCode": 1082298726,
        "durationString": "12 min",
        "endTime": 1657203153,
        "id": "rJqVrwIE",
        "segmentTemplateHashCode": 1483169264,
        "startTime": 1657202449
      }],
      "shareURL": "https://beta.tripgo.com/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "temporaryURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/06a0532b-decb-442b-afd6-f6f25fc374ac",
      "updateURL": "https://galaxies.skedgo.com/lab/beta/satapp/trip/update/06a0532b-decb-442b-afd6-f6f25fc374ac?hash=-416374024",
      "weightedScore": 11
    }]
  }],
  "query": {
    "depart": "2022-07-07T14:00:49Z",
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53211,
      "lng": -119.80831,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    }
  },
  "region": "US_NV_Reno",
  "regions": ["US_NV_Reno"],
  "segmentTemplates": [{
    "action": "Take Pyramid Lake Paiute Tribal Transit<DURATION>",
    "durationWithoutTraffic": 741,
    "from": {
      "address": "Near Valley Road",
      "class": "Location",
      "lat": 39.53193,
      "lng": -119.8081,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "hashCode": 1483169264,
    "localCost": {
      "accuracy": "internal_estimate",
      "cost": 1,
      "costComponents": [{
        "cost": 1,
        "type": "TAXI_BOOKING_FEE"
      }],
      "currency": "USD"
    },
    "metres": 7437,
    "mini": {
      "description": "Near East Grove Street & Yori Avenue",
      "instruction": "Take Pyramid Lake Paiute Tribal Transit",
      "mainValue": "$1"
    },
    "modeIdentifier": "ps_drt_pyramid-lake",
    "modeInfo": {
      "alt": "Shuttle",
      "color": {
        "blue": 19,
        "green": 29,
        "red": 152
      },
      "description": "Pyramid Lake",
      "identifier": "ps_drt_pyramid-lake",
      "localIcon": "shuttlebus",
      "remoteIconIsBranding": true
    },
    "notes": "Fare: from $1 (estimate)\n<TRAFFIC> ⋅ 4 1/2 miles",
    "streets": [{"encodedWaypoints": "oahpFt_gzUIM@gA??{@Bs@???EYQkBOBmACY?{@@Y?k@?S???[kCYmC]mCYmCEU?@BS?WCYGu@AMCq@AQeB\\??UDQ@S@S@]@yA?@AUOMmGG}DE{BCsCK_B???s@@sBBcF?mBCcB??CsLE{BAuAC_B@aADgA??NkATy@Pi@Ri@Tc@f@w@bDsE`@g@f@e@d@a@j@a@d@W??`CmAbBq@??l@Yv@g@t@i@p@i@??f@a@|@iAl@_A????pAwA\\a@PO^[A?VQTSt@c@n@a@r@[l@Sr@Ur@Ol@KTCf@GXCXA??nBErCElDIlDG@?tAEvAC?@vAExAClBCvAEV?h@Aj@Az@CdAI|@GdAI??|BYh@ItCi@tCo@dDu@vFoA@AlFkArFoA??x@Sd@K|Be@zCs@rBg@`AQ|@Qv@I??`@EXEj@Eb@Ed@bB??T@XFX@^@l@?^???vD@vD?v@@F?Gt@???b@?A?zW@nBB|GAbJ?d@BdF@|C@fD@lHR^??bEClE@dA?zA?zBAb@@D?R?PDNBJ@L?fD??n@??AzA?`BiD?@bB"}],
    "to": {
      "address": "Near East Grove Street & Yori Avenue",
      "class": "Location",
      "lat": 39.50175,
      "lng": -119.79542,
      "region": "US_NV_Reno",
      "timezone": "America/Los_Angeles"
    },
    "travelDirection": 34,
    "type": "unscheduled",
    "visibility": "in summary"
  }]
}</pre><br>----------------------------<br>
</code>
</body>
</html>